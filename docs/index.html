<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.64">
<title data-react-helmet="true">Build a Smart Bookmarking Tool with Rust and Rocket | Build a Smart Bookmarking Tool with Rust and Rocket</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Build a Smart Bookmarking Tool with Rust and Rocket | Build a Smart Bookmarking Tool with Rust and Rocket"><meta data-react-helmet="true" name="description" content="June 3, 2020"><meta data-react-helmet="true" property="og:description" content="June 3, 2020"><meta data-react-helmet="true" property="og:url" content="https://caabernathy.github.io/rust-tutorial/docs/"><link data-react-helmet="true" rel="shortcut icon" href="/rust-tutorial/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://caabernathy.github.io/rust-tutorial/docs/"><link rel="stylesheet" href="/rust-tutorial/styles.cb769f22.css">
<link rel="preload" href="/rust-tutorial/styles.7ca25a10.js" as="script">
<link rel="preload" href="/rust-tutorial/runtime~main.3bcc118c.js" as="script">
<link rel="preload" href="/rust-tutorial/main.11d9af6a.js" as="script">
<link rel="preload" href="/rust-tutorial/common.893da54c.js" as="script">
<link rel="preload" href="/rust-tutorial/24.a616c85f.js" as="script">
<link rel="preload" href="/rust-tutorial/25.a95b4b48.js" as="script">
<link rel="preload" href="/rust-tutorial/935f2afb.d059b3ba.js" as="script">
<link rel="preload" href="/rust-tutorial/17896441.aa9eea33.js" as="script">
<link rel="preload" href="/rust-tutorial/b2f90839.9bb2d534.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/rust-tutorial/"><img class="navbar__logo" src="/rust-tutorial/img/logo.svg" alt="Learn Rust Logo"><strong class="navbar__title">Learn Rust</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/rust-tutorial/docs/">Tutorial</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Sample Project</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">üåû</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/rust-tutorial/"><img class="navbar__logo" src="/rust-tutorial/img/logo.svg" alt="Learn Rust Logo"><strong class="navbar__title">Learn Rust</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/rust-tutorial/docs/">Tutorial</a></li><li class="menu__list-item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="menu__link">Sample Project</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Build a Smart Bookmarking Tool with Rust and Rocket</h1></header><div class="markdown"><p>June 3, 2020</p><p>By <a href="https://www.facebook.com/jjprevite" target="_blank" rel="noopener noreferrer">Joe Previte</a></p><img src="/img/hero.png" width="100%"><br><br><p>One of my favorite tools that exists internally is our smart bookmarking tool commonly referred to as ‚Äúbunnylol.‚Äù Originally named bunny1 and <a href="https://github.com/ccheever/bunny1" target="_blank" rel="noopener noreferrer">open sourced</a>, it‚Äôs what we use to navigate across all tools, wikis, knowledge bases, and everything else one might use working at Facebook.</p><p>An example of a bookmark I use often is the cal command. I can type in the browser cal and it will take me to our internal calendar tool. Another example is the <code>wiki</code> command, which I can use to search our internal wiki pages. I type in <code>wiki</code> followed by the name of something I‚Äôm looking for and it will provide search results for wiki pages that match what I‚Äôm looking for.</p><p>As you can imagine, it‚Äôs immensely helpful! It also provides a way for us to not only bookmark things like the calendar, but also do things like search wikis using the provided queries. Talk about smart bookmarks, eh?</p><p>Today, I‚Äôm going to show you how to build a simple clone of bunny1 using <a href="https://www.rust-lang.org/" target="_blank" rel="noopener noreferrer">Rust</a> and <a href="https://rocket.rs/" target="_blank" rel="noopener noreferrer">Rocket</a> (a web-framework for Rust). The original implementation is written in Python as a web server. We‚Äôre going with Rust because it‚Äôs:</p><ul><li>Fast</li><li>Type-safe</li><li>Fun to write</li><li>Well-documented as a language
Let‚Äôs get to it!</li></ul><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p><em>If you prefer learning by watching, you can follow along in the video series on the <a href="https://www.youtube.com/playlist?list=PLzIwronG0sE56c6hDYOKW3-rPxmIyttoe" target="_blank" rel="noopener noreferrer">Facebook Open Source YouTube channel</a>.</em></p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="building-the-app"></a>Building the App<a aria-hidden="true" tabindex="-1" class="hash-link" href="#building-the-app" title="Direct link to heading">#</a></h2><p>Before building the app, I‚Äôll cover how it will work and the prerequisites for following along. After that, I‚Äôll jump in and go through each step before setting it up for production.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="how-will-it-work"></a>How will it work?<a aria-hidden="true" tabindex="-1" class="hash-link" href="#how-will-it-work" title="Direct link to heading">#</a></h2><p>Starting from a high-level, the app will work something like this.</p><ol><li>Open browser</li><li>In address bar, type a keyword</li><li>App will redirect if keyword matches one of the commands</li></ol><p>Say for instance I was using Firefox and I had a command gh <page></page> which redirected to a page on GitHub like a repository. It would look like this:</p><ol><li>Open Firefox</li><li>Type in gh facebook/react</li><li>Redirects to <a href="https://github.com/facebook/react" target="_blank" rel="noopener noreferrer">https://github.com/facebook/react</a></li></ol><p>Here is that flow in action:</p><img src="/img/running_app.gif" width="100%"><p>I want to dig more into the technical details of this approach. I can achieve this by building a basic web server app that listens for requests and redirects them based on if it matches specific criteria. I am not building a client-side app because the only functionality I need is a redirect so it makes more sense to be built as a web server.</p><p>Using the same example, the application logic will flow like this:</p><img src="/img/application_logic.png" width="100%"><p>I will use a <a href="https://www.makeuseof.com/tag/create-custom-search-engines-google-chrome/" target="_blank" rel="noopener noreferrer">custom search engine</a> which will allow me to connect the address bar to my own search engine. With the basic flow down, I am ready to move on to the next step!</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="prerequisites"></a>Prerequisites<a aria-hidden="true" tabindex="-1" class="hash-link" href="#prerequisites" title="Direct link to heading">#</a></h2><p>In order to start writing the Rust application, I will need to do a few things:</p><ul><li>Install Rust</li><li>Switch to Nightly Rust</li><li>Set up VS Code for Rust
Test Rocket with Hello World</li></ul><p>I will walk through each of these.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="install-rust"></a>Install Rust<a aria-hidden="true" tabindex="-1" class="hash-link" href="#install-rust" title="Direct link to heading">#</a></h2><p>To install Rust, I will use a tool called rustup. You can install it by running the command:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">shell</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">curl --proto &#x27;=https&#x27; --tlsv1.2 -sSf https://sh.rustup.rs | sh</span></div></div></div></div></div><p>This will install rustup which is used for installing Rust and staying up to date with different versions of the language. After you run it and follow the instructions, you should have Rust installed.</p><p>You can double-check by running:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">shell</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">cargo --version</span></div></div></div></div></div><p><a href="https://doc.rust-lang.org/cargo/" target="_blank" rel="noopener noreferrer">Cargo</a> is the official Rust package manager and we will use it to compile, build and run our Rust code.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="switch-to-nightly-rust"></a>Switch to Nightly Rust<a aria-hidden="true" tabindex="-1" class="hash-link" href="#switch-to-nightly-rust" title="Direct link to heading">#</a></h3><p>Rust has three release channels:</p><ul><li>Stable</li><li>Beta</li><li>Nightly</li></ul><p>The stable build is what most people use. I am using the nightly version because Rocket, the framework I‚Äôm using, uses ‚Äú<a href="https://rocket.rs/v0.4/guide/getting-started/" target="_blank" rel="noopener noreferrer">Rust&#x27;s syntax extensions and other advanced, unstable features.</a>‚Äù</p><p>You can change this by running the command:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">shell</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">rustup default nightly</span></div></div></div></div></div><p>You can always change it back to the stable version by running:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">shell</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">rustup default stable</span></div></div></div></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/master/website/docs/doc1.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#building-the-app" class="table-of-contents__link">Building the App</a></li><li><a href="#how-will-it-work" class="table-of-contents__link">How will it work?</a></li><li><a href="#prerequisites" class="table-of-contents__link">Prerequisites</a></li><li><a href="#install-rust" class="table-of-contents__link">Install Rust</a><ul><li><a href="#switch-to-nightly-rust" class="table-of-contents__link">Switch to Nightly Rust</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Resources</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/rust-tutorial/docs/">Tutorial</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sample Project</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">About Me</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://www.facebook.com/jjprevite" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook</a></li><li class="footer__item"><a href="https://twitter.com/jsjoeio" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div></div><div class="text--center"><div>Copyright ¬© 2020 Rust Tutorial, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/rust-tutorial/styles.7ca25a10.js"></script>
<script src="/rust-tutorial/runtime~main.3bcc118c.js"></script>
<script src="/rust-tutorial/main.11d9af6a.js"></script>
<script src="/rust-tutorial/common.893da54c.js"></script>
<script src="/rust-tutorial/24.a616c85f.js"></script>
<script src="/rust-tutorial/25.a95b4b48.js"></script>
<script src="/rust-tutorial/935f2afb.d059b3ba.js"></script>
<script src="/rust-tutorial/17896441.aa9eea33.js"></script>
<script src="/rust-tutorial/b2f90839.9bb2d534.js"></script>
</body>
</html>